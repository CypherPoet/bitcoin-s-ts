<div class="new-user-onboarding" @fadeOut>
  <mat-sidenav-container>
    <mat-sidenav-content>
      <div class="sidenav__menu-container">
        <div class="app-logo"></div>

        <mat-action-list class="sidenav__menu-list">
          <button
            mat-list-item
            *ngFor="let onboardingStep of onboardingStepCards"
            (click)="onStepSelected(onboardingStep.stepNumber)"
          >
            <span
              class="material-icons-outlined sidenav__menu-list-item__icon">
              {{ emojiForOnboardingStepNumber(onboardingStep.stepNumber) }}
            </span>

            <span translate>
              {{ onboardingStep.menuTitleKey }}
            </span>
          </button>
        </mat-action-list>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>

  <div class="main-content-container">
    <div [@stepSlider]="currentStep" class="card-slide-container">
      <ng-container *ngFor="let onboardingStep of onboardingStepCards; let cardIndex = index">
        <new-user-onboarding-card [onboardingStep]="onboardingStep" *ngIf="cardIndex == currentStep - 1" class="card-slide-container__card-slide">
        <button
          *ngIf="onboardingStep.stepNumber == 1"
          mat-flat-button
          color="primary"
          (click)="onImportExport()"
        >
          Back Up Now
        </button>
        </new-user-onboarding-card>
      </ng-container>
    </div>

    <div class="card-slide-controls-container">
      <button mat-flat-button color="basic" type="button" (click)="onPreviousStepTapped()" [disabled]="currentStep == 1">Previous Step</button>

      <button *ngIf="this.currentStep != this.onboardingStepCards.length" mat-flat-button color="primary" type="button" (click)="onNextStepTapped()">Next</button>

      <button *ngIf="this.currentStep == this.onboardingStepCards.length" mat-flat-button color="primary" type="button" (click)="onCompleteTapped()">Complete</button>
    </div>
  </div>
</div>
